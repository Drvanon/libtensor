set(SRC
	libtensor_tests.C
	libtensor_suite.C
	abs_index_test.C
	addition_schedule_test.C
	anon_eval_test.C
	bispace_test.C
	bispace_expr_test.C
	block_index_space_test.C
	block_index_subspace_builder_test.C
	block_map_test.C
	block_tensor_test.C
	btensor_test.C
	btod_add_test.C
	btod_compare_test.C
	btod_contract2_test.C
	btod_copy_test.C
	btod_diag_test.C
	btod_diagonalize_test.C
	btod_dirsum_test.C
	btod_dotprod_test.C
	btod_extract_test.C
	btod_import_raw_test.C
	btod_mult_test.C
	btod_mult1_test.C
	btod_print_test.C
	btod_random_test.C
	btod_read_test.C
	btod_scale_test.C
	btod_select_test.C
	btod_set_test.C
	btod_set_diag_test.C
	btod_set_elem_test.C
	btod_sum_test.C
	btod_symmetrize_test.C
	btod_trace_test.C
	btod_tridiagonalize_test.C
	contract_test.C
	contraction2_test.C
	contraction2_list_builder_test.C
	diag_test.C
	dimensions_test.C
	direct_block_tensor_test.C
	direct_btensor_test.C
	direct_eval_test.C
	direct_product_test.C
	dirsum_test.C
	dot_product_test.C
	expr_test.C
	global_timings_test.C
	immutable_test.C
	index_test.C
	index_range_test.C
	labeled_btensor_test.C
	letter_test.C
	letter_expr_test.C
	mask_test.C
	mp_safe_tensor_test.C
	orbit_test.C
	orbit_list_test.C
	partition_set_test.C
	permutation_test.C
	permutation_builder_test.C
	permutation_group_test.C
	point_group_table_test.C
	product_table_container_test.C
	sequence_test.C
	se_label_test.C
	se_part_test.C
	se_perm_test.C
	so_add_test.C
	so_add_impl_label_test.C
	so_add_impl_part_test.C
	so_add_impl_perm_test.C
	so_concat_test.C
	so_concat_impl_label_test.C
	so_concat_impl_part_test.C
	so_concat_impl_perm_test.C
	so_copy_test.C
	so_merge_test.C
	so_merge_impl_label_test.C
	so_merge_impl_part_test.C
	so_merge_impl_perm_test.C
	so_mult_test.C
	so_mult_impl_label_test.C
	so_mult_impl_part_test.C
	so_mult_impl_perm_test.C
	so_permute_impl_label_test.C
	so_permute_impl_part_test.C
	so_permute_impl_perm_test.C
	so_proj_down_test.C
	so_proj_down_impl_label_test.C
	so_proj_down_impl_part_test.C
	so_proj_down_impl_perm_test.C
	so_proj_up_test.C
	so_proj_up_impl_label_test.C
	so_proj_up_impl_part_test.C
	so_proj_up_impl_perm_test.C
	so_stabilize_test.C
	so_stabilize_impl_label_test.C
	so_stabilize_impl_part_test.C
	so_stabilize_impl_perm_test.C
	so_symmetrize_test.C
	so_union_test.C
	so_union_impl_perm_test.C
	symm_test.C
	symmetry_test.C
	symmetry_element_set_test.C
	symmetry_element_set_adapter_test.C
	task_batch_test.C
	tensor_test.C
	timer_test.C
	timings_test.C
	tod_add_test.C
	tod_btconv_test.C
	tod_compare_test.C
	tod_contract2_test.C
	tod_copy_test.C
	tod_diag_test.C
	tod_dirsum_test.C
	tod_dotprod_test.C
	tod_extract_test.C
	tod_import_raw_test.C
	tod_mult_test.C
	tod_mult1_test.C
	tod_random_test.C
	tod_scale_test.C
	tod_scatter_test.C
	tod_select_test.C
	tod_set_test.C
	tod_set_diag_test.C
	tod_set_elem_test.C
	tod_sum_test.C
	tod_symcontract2_test.C
	tod_trace_test.C
	trace_test.C
	version_test.C
)

set(SRC_LINALG
	linalg/libtensor_linalg_tests.C
	linalg/libtensor_linalg_suite.C
	linalg/linalg_x_p_p_test.C
	linalg/linalg_i_i_x_test.C
	linalg/linalg_x_pq_qp_test.C
	linalg/linalg_i_ip_p_x_test.C
	linalg/linalg_i_pi_p_x_test.C
	linalg/linalg_ij_i_j_x_test.C
	linalg/linalg_i_ipq_qp_x_test.C
	linalg/linalg_ij_ip_jp_x_test.C
	linalg/linalg_ij_ip_pj_x_test.C
	linalg/linalg_ij_pi_jp_x_test.C
	linalg/linalg_ij_pi_pj_x_test.C
	linalg/linalg_ij_ipq_jqp_x_test.C
	linalg/linalg_ijkl_ipl_kpj_x_test.C
	linalg/linalg_ijkl_iplq_kpjq_x_test.C
	linalg/linalg_ijkl_iplq_pkjq_x_test.C
	linalg/linalg_ijkl_iplq_pkqj_x_test.C
	linalg/linalg_ijkl_ipql_pkqj_x_test.C
	linalg/linalg_ijkl_pilq_kpjq_x_test.C
	linalg/linalg_ijkl_pilq_pkjq_x_test.C
	linalg/linalg_ijkl_piql_kpqj_x_test.C
	linalg/linalg_ijkl_piql_pkqj_x_test.C
	linalg/linalg_ijkl_pkiq_jplq_x_test.C
	linalg/linalg_ijkl_pkiq_jpql_x_test.C
	linalg/linalg_ijkl_pkiq_pjlq_x_test.C
	linalg/linalg_ijkl_pkiq_pjql_x_test.C
	linalg/linalg_ijkl_pliq_jpkq_x_test.C
	linalg/linalg_ijkl_pliq_jpqk_x_test.C
	linalg/linalg_ijkl_pliq_pjqk_x_test.C
)

set(TARGETS
	libtensor_tests
	libtensor_linalg_tests
)

add_executable(libtensor_tests ${SRC})
add_executable(libtensor_linalg_tests ${SRC_LINALG})

include(${LIBTEST_DIR}/cmake/SetupLibTest.txt)

set_property(TARGET ${TARGETS} APPEND PROPERTY
	COMPILE_DEFINITIONS LIBTENSOR_INSTANTIATE_TEMPLATES)
set_property(TARGET ${TARGETS} APPEND PROPERTY
	COMPILE_DEFINITIONS_DEBUG LIBVMM_DEBUG)
set_property(TARGET ${TARGETS} APPEND PROPERTY
	COMPILE_DEFINITIONS_DEBUG LIBTENSOR_DEBUG)

foreach(TARGET ${TARGETS})
target_link_libraries(${TARGET}
	tensor ${LIBTENSOR_DEP_LIBS} ${LIBVMM_LIBS} test)
endforeach(TARGET)

